<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>page</title>
<style>
.pageDiv{font:14px "微软雅黑", "Microsoft Yahei";text-align:center;width:100%;height:50px;padding:10px 10px;background-color:#D6D6D6}
.pageDiv div{float:left;line-height:25px}
.pageDiv a {float:left;dispaly:inline-block;width:70px;height:25px;margin-left:5px;background:#f0f0f0;line-height:25px}
.pageDiv a.focusedPage{background-color:red}
.pageDiv span.disabledButton{background-color: #D3A6A9}
.pageDiv>span{float:left;dispaly:inline-block;width:70px;height:25px;margin-left:5px;background:#f0f0f0;line-height:25px}
.page a{float:left;dispaly:inline-block;width:45px;height:25px;backrgound:#f0f0f0}
a:hover{background-color:#e0e0e0}

</style>
<script type="text/javascript" src="js/jquery.js"></script>
</head>
<body>
<input type="checkbox">
	<div id="pageDiv" class="pageDiv">
		<a id="firstPage" class="firstPage">首页</a>
		<a id="prevPage" class="prevPage">< 上一页</a>
		<a id="prevPageG" class="prevPageG">...</a>
		<div id="page" class="page"></div>
		<a id="nextPageG" class="nextPageG">...</a>
		<a id="nextPage" class="nextPage">下一页 ></a>
		<a id="lastPage" class="lastPage">尾页</a>
		<div class="last" style="font-size: 14px;">共<span
			id="totalPage" class="totalPage"></span>页，跳转至 <input type="number" class="keuInput"
			value="1" style="width:35px">
			<button type="button" class="btnSure">确定</button>
		</div>
	</div>
		<script type="text/javascript">

		/**
		 *  Class : focusedPage, pageButtion
		 */

		function initPage() {
			var reqType='articleType', reqData='心得体会';
			var pageTotal=100, pageNum=1, pageSize=5;

			//#pageTotal
			if (pageTotal > 0) {
				$('#pageTotal').text(pageTotal);
			} else {
				$('#pageTotal').text('0');
			}
			
			// #pageDiv
			if (pageNum && pageTotal && pageNum <= pageTotal) {
				if (pageGroup >= groupSize - 1) {//last group
					var index = (pageNum - 1) % pageSize;
					fillPage(pageTotal);// append number
				} else {
					var index = (pageNum - 1) % pageSize;
					fillPage(pageSize);
				}
				$('#totalPage').html(pageTotal);
			} else {
				return;
			}
			
			//#firstPage,prevPage,prevPageG,nextPage,nextPageG,lastPage
			if (pageTotal > 0) {
				if (pageNum && pageNum <= pageTotal) {
					if (pageNum == 1) {
						disableDiv($('#firstPage'));
						disableDiv($('#prevPage'));
					} else if (pageNum == pageTotal) {
						disableDiv($('#lastPage'));
						disableDiv($('#nextPage'));
					} else {
						var index = (pageNum - 1) % pageSize;
						var pageGroup = (pageNum - 1) / pageSize;
						var groupSize = pageTotal / pageSize
								+ (pageTotal % pageSize > 0 ? 1 : 0);
						if (pageGroup >= groupSize - 1) {
							diableDiv($('#nextPageG'));
						}
						if (!pageGroup) {
							disableDiv($('#prevPageG'));
						}
					}
				} else {
					disableDiv($('#firstPage,#prevPage,#prevPageG,#nextPage,#nextPageG,#lastPage'));
				}
			} else {
				disableDiv($('#firstPage,#prevPage,#prevPageG,#nextPage,#nextPageG,#lastPage'));
			}

			$('#firstPage').on('click', (function() {
				return function(){requestBlog(reqType, reqData, 1, pageSize)};
			})());
			$('#lastPage').on('click', (function() {
				return function(){requestBlog(reqType, reqData, pageTotal, pageSize)};
			})());
			$('#prevPage').on('click', (function() {
				return function(){requestBlog(reqType, reqData, pageNum - 1, pageSize)};
			})());
			$('#nextPage').on('click', (function() {
				return function(){requestBlog(reqType, reqData, pageNum + 1, pageSize)};
			})());
			$('#prevPageG').on(
					'click',
					(function() {
						return function(){requestBlog(reqType, reqData, (pageGroup - 1) * pageSize + 1, pageSize)};
					})()
					);
			$('#nextPageG').on(
					'click',
					(function() {
						return function(){requestBlog(reqType, reqData, (pageGroup + 1) * pageSize + 1, pageSize)};
					})()
		            );
			
			function fillPage(num) {
				if (!num) {
					num = 5;//default 5
				}
				for (var i = 0; i < num; i++) {
					$('#page').append(
							'<a href="javascript:void(0)" class="pageButton"'
									+ 'onclick="requestBlog(\'' + reqType + '\',\''
									+ reqData + '\',' + (pageNum - index + i)
									+ ',' + pageSize + ')">'
									+ (pageNum - index + i) + '</a>');
				}
				var focused = $('#page a').get(index);
			    $(focused).addClass('focusedPage');
			/* 	$(focused).css('background-color','red'); */
			}
		}
		initPage();


		
		function requestBlog(reqType, reqData, pageNum, pageSize) {
			window.location.href = window.location.href +'?' + reqType + '=' + encodeURI(reqData) + '&'
					+ 'pageNum=' + pageNum + '&' + 'pageSize=' + pageSize;
		}

		 
		function disableDiv(obj) {
			if (!obj instanceof jQuery) {
				obj = $(obj);
			}
			obj.replaceWith(function() {
				return $('<span/>', {
					html : $(this).html(),
					class : 'disabledButton'
				});
			});
		}
	

	</script>
</body>
</html>